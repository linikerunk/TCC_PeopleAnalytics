{% load static %}
<!-- Fathers Icons -->
<script src="https://unpkg.com/feather-icons"></script>
<!-- Ionicos -->
<script src="https://unpkg.com/ionicons@5.1.2/dist/ionicons.js"></script>

<script src="{% static 'admin-lte/plugins/jquery/jquery.min.js' %}"></script>
<script src="{% static 'admin-lte/plugins/jquery-ui/jquery-ui.min.js' %}"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script src="{% static 'admin-lte/plugins/bootstrap/js/bootstrap.bundle.min.js' %} "></script>

<script src="{% static 'admin-lte/dist/js/adminlte.min.js' %}"></script>
<script src="{% static 'admin-lte/dist/js/demo.js' %}"></script>
<script src="{% static 'js/jquery.mask.js' %}"></script>
<script>$.widget.bridge('uibutton', $.ui.button);</script>
 <!-- Your custom scripts -->
 <script>
  feather.replace()
  // First step to active the li in menu.*******************//
  url = window.location.href.split('/')[3]
  $(`#li-${url}`).addClass('active')
  // *******************************************************//

  // Mask of inputs...**************************************//
  $(document).ready(function($){
  $('#birth_date').mask('00/00/0000');
  $('#cpf').mask('000.000.000-00', {reverse: true});
  $('#cep').mask('00.000-000')
  $('#phone').mask('(00) 0000-00009');
  $('#phone').blur(function(event) {
    if($(this).val().length > 14) { // Celular com 9 dígitos + 2 dígitos DDD
        $('#phone').mask('(00) 0.0000-0009');
    }else {
        $('#phone').mask('(00) 0000-00009');
   }});
  })
  // *******************************************************//

  // CEP ***************************************************//
  $(document).ready(function(){
    $('#cep').focusout(function(){
        var cep = $("#cep").val();
        cep = cep.replace(".", "")
        console.log("CEP 2 : ", cep)

        var urlStr = `https://viacep.com.br/ws/${cep}/json/`;

        $.ajax({
            url : urlStr,
            type : "get",
            dataType: "json",
            success : function(data){
                $('#andress').val(data.logradouro)
                $('#city').val(data.localidade)
                $('#district').val(data.bairro)
                
                console.log(data);
            },
            error : function(erro){
                console.log(erro)
            }
        })
    })
  })
 </script>

 <script id="form-submit-user">
     $("#user_create").submit(function (event) {
           $("#cpf").cleanVal();
           $("#cep").cleanVal();
           $("#phone").cleanVal();
        });

 </script>
