{% extends 'base.html' %}
{% load static %}
{% block titulo %}Gestão de Hora{% endblock %}
{% block conteudo %}
{% include 'parciais/errors.html' %}
{% include 'parciais/_messages.html' %}

<div class="card">
    <div class="card-header">
      <h3 class="card-title">Listagem de Absenteísmo</h3>
    </div>
    <!-- /.card-header -->
    <div class="card-body">
      <div id="example2_wrapper" class="dataTables_wrapper dt-bootstrap4">
        
        <div class="row">
          <div class="col-sm-12">
            <div class="box-body table-responsive no-padding">
            <table class="table table-striped table-responsive border rounded bg-light shadow">
        
        <thead>
        <tr role="row">
          <th class="table-dark" tabindex="0" rowspan="1" colspan="1" style="width: 8%; ">Nome do Funcionário</th>
          <th class="table-dark" tabindex="0" rowspan="1" colspan="1" style="width: 4%;">Dias do Mês</th>
          <th class="table-dark" tabindex="0" rowspan="1" colspan="1" style="width: 4%;">Dias de Falta</th>
          <th class="table-dark" tabindex="0" rowspan="1" colspan="1" style="width: 5%;">Data Cálculo</th>
          <th class="table-dark" tabindex="0" rowspan="1" colspan="1" style="width: 2%;">Taxa de Absenteísmo</th>
        </thead>
    
        <tbody>
          {% for obj in obj %}
        <tr role="row">
          <td class="pt-3">{{ obj.employee }}</td>
          <td class="pt-3">{{ obj.absenteeism_days }}</td>
          <td class="pt-3">{{ obj.days_month  }}</td>
          <td class="pt-3">{{ obj.date_register|date:'d/m/Y' }}</td>
          {% if obj.absenteeism > 23 %}
          <td class="pt-3"><span style="color: red;">{{ obj.absenteeism }}%</span></td>
          {% elif obj.absenteeism > 6  and obj.absenteeism <= 23 %}
          <td class="pt-3"><span style="color: rgb(233, 157, 16);">{{ obj.absenteeism }}%</span></td>
          {% else %}
          <td class="pt-3"><span style="color: green;">{{ obj.absenteeism }}%</span></td>
        </tr> 
        {% endif %}
        {% endfor %}
        </tbody>
  
        <tfoot>
        </tfoot>
      </table>
    </div>
    
    </div>
  </div>
  <div class="row">
  
    <div class="col-md-2">
      <div class="pl-1">Mostrar 1 de 10</div>
    </div>
  
      <div class="col-md-4 offset-md-4">
        <div class="dataTables_paginate paging_simple_numbers" id="example2_paginate">
          <ul class="pagination">
            <li class="paginate_button page-item previous disabled" id="example2_previous">
              <a href="#" aria-controls="example2" data-dt-idx="0" tabindex="0" class="page-link">Previous</a>
            </li>
            <li class="paginate_button page-item active">
              <a href="#" aria-controls="example2" data-dt-idx="1" tabindex="0" class="page-link">1</a>
            </li>
            <li class="paginate_button page-item ">
              <a href="#" aria-controls="example2" data-dt-idx="2" tabindex="0" class="page-link">2</a>
            </li>
            <li class="paginate_button page-item ">
              <a href="#" aria-controls="example2" data-dt-idx="3" tabindex="0" class="page-link">3</a>
            </li>
            <li class="paginate_button page-item ">
              <a href="#" aria-controls="example2" data-dt-idx="4" tabindex="0" class="page-link">4</a>
            </li>
            <li class="paginate_button page-item ">
              <a href="#" aria-controls="example2" data-dt-idx="5" tabindex="0" class="page-link">5</a>
            </li>
            <li class="paginate_button page-item ">
              <a href="#" aria-controls="example2" data-dt-idx="6" tabindex="0" class="page-link">6</a>
            </li>
            <li class="paginate_button page-item next" id="example2_next">
              <a href="#" aria-controls="example2" data-dt-idx="7" tabindex="0" class="page-link">Next</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  
  </div>
  
    </div>
    <!-- /.card-body -->
  </div>
  
{% endblock %}